(function(){Application.controller("HomeController",["$scope","$http",function(n,t){n.Manuals=[];n.CategoryFilter="";n.TagFilter="";n.TagAllow=!0;n.Page=0;$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-1&&t({method:"POST",url:"/Home/GetManualPage",data:{category:n.CategoryFilter,tag:n.TagFilter,page:n.Page}}).success(function(t){return n.Manuals=n.Manuals.concat(t),n.Page+=1})});t({method:"GET",url:"/Home/GetCategories"}).success(function(t){n.Categories=t});n.colors=["#800026","#bd0026","#e31a1c","#fc4e2a","#fd8d3c","#feb24c","#fed976"];t({method:"POST",url:"/Home/GetManualPage",data:{category:n.CategoryFilter,tag:n.TagFilter,page:n.Page}}).success(function(t){n.Manuals=n.Manuals.concat(t);n.Page+=1});n.ChangeRating=function(n,i){t({method:"POST",url:"/Home/ChangeRating",data:{manual:n,liked:i}}).success(function(t){n.Rating=t.newRating})};n.DeleteManual=function(i){t({method:"POST",url:"/Home/DeleteManual",data:{manual:i}}).success(function(){return n.Manuals.splice(n.Manuals.indexOf(i),1)});return};n.compare=function(n,t){var i;return t==""?!0:(i=!1,n.forEach(function(n){n.Name==t&&(i=!0)}),i)?!0:!1};n.Tags=[];t({method:"GET",url:"/Home/GetTags"}).success(function(t){n.words=[];angular.forEach(t,function(t){var i;i=!0;angular.forEach(n.words,function(n){if(n.text===t.Name)return n.weight+=1,i=!1});i&&n.words.push({text:t.Name,weight:1,handlers:{click:function(){n.TagFilter=t.Name}}})})});n.update=function(){n.words.splice(-5)}}]);return}).call(this);