(function(){Application.controller("AddNewManualController",["$scope","$http",function(n,t){n.Categories=[];n.Templates=[];n.NewManual={Tags:[]};n.Tags=[];t({method:"GET",url:"/Home/GetCategories"}).success(function(t){n.Categories=t;n.NewManual.CategoryId=n.Categories[1].Id});t({method:"GET",url:"/Home/GetTemplates"}).success(function(t){n.Templates=t;n.NewManual.TemplateId=n.Templates[1].Id});t({method:"GET",url:"/Home/GetTags",data:{Id:n.NewManual.Id}}).success(function(t){n.Tags=t});n.AddTag=function(){return t({method:"POST",url:"/Home/AddNewTag",data:{tagName:n.NewTag}}).success(function(t){t.success&&n.NewManual.Tags.push(t.tag);n.NewTag=""})};n.Create=function(i){return i.ImageLink1=document.getElementById("Image1").lastChild.src,i.ImageLink2=document.getElementById("Image2").lastChild.src,i.ImageLink3=document.getElementById("Image3").lastChild.src,t({method:"POST",url:"/Home/CreateNewManual",data:{model:i,ReturnUrl:n.ReturnUrl}}).success(function(n){n.result==="Redirect"&&(window.location.href=n.url)})}}])}).call(this);